#+title:      Agent Protocol Standards: ACP, MCP, A2A í†µí•© ë¶„ì„
#+date:       [2025-10-14 Tue 14:00]
#+filetags:   :meta:protocol:standards:acp:mcp:a2a:
#+identifier: 20251014T140000
#+export_file_name: 20251014T140000-protocol-standards.md

* Agent Protocol Standards: ACP, MCP, A2A í†µí•© ë¶„ì„

**ë²„ì „**: 1.0.0  
**ìƒíƒœ**: ğŸ”¬ RESEARCH  
**ì—…ë°ì´íŠ¸**: 2025-10-14

#+begin_quote
"Standards enable interoperability, innovation, and sustainable ecosystems"
"í‘œì¤€ì€ ìƒí˜¸ìš´ìš©ì„±, í˜ì‹ , ì§€ì† ê°€ëŠ¥í•œ ìƒíƒœê³„ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤"
#+end_quote

** ğŸŒ ì—ì´ì „íŠ¸ í”„ë¡œí† ì½œ ìƒíƒœê³„

*** ê°œìš”

2024-2025ë…„ ì‚¬ì´ì— AI ì—ì´ì „íŠ¸ í†µì‹ ì„ ìœ„í•œ ì„¸ ê°€ì§€ í•µì‹¬ í”„ë¡œí† ì½œì´ ë“±ì¥:

1. **MCP** (Model Context Protocol) - Anthropic, 2024
2. **ACP** (Agent Client Protocol) - Zed + Google, 2025-08
3. **A2A** (Agent2Agent Protocol) - Google + Linux Foundation, 2025-04

ê° í”„ë¡œí† ì½œì€ ì„œë¡œ ë‹¤ë¥¸ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©° **ìƒí˜¸ ë³´ì™„ì **ì…ë‹ˆë‹¤.

*** ì „ì²´ ê·¸ë¦¼

#+begin_src
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User / Editor                                  â”‚
â”‚  (Emacs, VS Code, JetBrains, Zed...)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†• ACP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Coding Agent                                â”‚
â”‚  (Claude Code, Cursor, Aider...)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†• A2A
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Domain Agents                                  â”‚
â”‚  (Family-Config, Work-Config, Health...)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†• MCP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tools & Resources                              â”‚
â”‚  (File system, APIs, Databases...)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#+end_src

** ğŸ“‹ í”„ë¡œí† ì½œë³„ ìƒì„¸ ë¶„ì„

*** 1. ACP (Agent Client Protocol)

**** ê°œìš”

- **ë°œí‘œ**: 2025ë…„ 8ì›”, Zed Industries + Google Gemini CLI
- **ëª©ì **: ì½”ë“œ ì—ë””í„° â†” AI ì½”ë”© ì—ì´ì „íŠ¸ í†µì‹  í‘œì¤€í™”
- **ë³„ì¹­**: "The LSP for AI Coding Agents"
- **ìµœê·¼**: JetBrains 2025ë…„ 10ì›” ì±„íƒ ë°œí‘œ

**** ê¸°ìˆ  ìŠ¤íƒ

#+begin_src yaml
ê¸°ìˆ  ê¸°ë°˜: JSON-RPC 2.0
í†µì‹  ë°©ì‹: Bidirectional streaming
ì „ì†¡: stdio, TCP, WebSocket
ë¼ì´ì„ ìŠ¤: Apache 2.0
ë¼ì´ë¸ŒëŸ¬ë¦¬: Rust, TypeScript
#+end_src

**** í•µì‹¬ ê¸°ëŠ¥

1. **Streaming Updates**: ì‹¤ì‹œê°„ ì½”ë“œ ë³€ê²½ ìŠ¤íŠ¸ë¦¬ë°
2. **Permissioned Tool Calls**: ê¶Œí•œ ê¸°ë°˜ ë„êµ¬ í˜¸ì¶œ
3. **File Access**: íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼ í‘œì¤€í™”
4. **Context Management**: ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
5. **Multi-modal**: í…ìŠ¤íŠ¸, ì½”ë“œ, ì´ë¯¸ì§€ ì§€ì›

**** ë©”ì‹œì§€ ì˜ˆì‹œ

#+begin_src json
// Editor â†’ Agent
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "agent/execute",
  "params": {
    "task": "Refactor this function to use async/await",
    "context": {
      "file": "src/main.rs",
      "selection": {
        "start": {"line": 10, "column": 0},
        "end": {"line": 25, "column": 5}
      }
    }
  }
}

// Agent â†’ Editor (Streaming)
{
  "jsonrpc": "2.0",
  "method": "editor/applyEdit",
  "params": {
    "edits": [{
      "file": "src/main.rs",
      "range": {...},
      "newText": "async fn fetch_data() -> Result<Data, Error> {\n..."
    }]
  }
}
#+end_src

**** ì‚¬ìš© ì‚¬ë¡€

- Emacs â†” Claude Code
- VS Code â†” Cursor AI
- JetBrains IDEs â†” AI Coding Agents
- Zed â†” Gemini CLI

*** 2. MCP (Model Context Protocol)

**** ê°œìš”

- **ë°œí‘œ**: 2024ë…„, Anthropic
- **ëª©ì **: AI ëª¨ë¸ â†” ë„êµ¬/ë¦¬ì†ŒìŠ¤ ì—°ê²° í‘œì¤€í™”
- **ì² í•™**: "One model, many tools"
- **ëª©í‘œ**: ëª¨ë¸ì—ê²Œ í’ë¶€í•œ ì»¨í…ìŠ¤íŠ¸ ì œê³µ

**** ê¸°ìˆ  ìŠ¤íƒ

#+begin_src yaml
ê¸°ìˆ  ê¸°ë°˜: JSON-RPC 2.0
í†µì‹  ë°©ì‹: Bidirectional
ì „ì†¡: stdio, HTTP/SSE
í”„ë¡œí† ì½œ: í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ì•„í‚¤í…ì²˜
#+end_src

**** í•µì‹¬ ê°œë…

1. **Resources**: ì½ê¸° ê°€ëŠ¥í•œ ë°ì´í„° ì†ŒìŠ¤
   - íŒŒì¼ ì‹œìŠ¤í…œ
   - ë°ì´í„°ë² ì´ìŠ¤
   - API ì‘ë‹µ
   - ë¬¸ì„œ

2. **Tools**: ì‹¤í–‰ ê°€ëŠ¥í•œ ê¸°ëŠ¥
   - íŒŒì¼ ì‘ì„±
   - API í˜¸ì¶œ
   - ëª…ë ¹ ì‹¤í–‰
   - ê³„ì‚°

3. **Prompts**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

4. **Sampling**: ëª¨ë¸ì´ LLM í˜¸ì¶œ ìš”ì²­

**** MCP Server ì˜ˆì‹œ

#+begin_src typescript
// MCP Server: File System
import { MCPServer } from '@modelcontextprotocol/sdk';

const server = new MCPServer({
  name: 'filesystem-server',
  version: '1.0.0'
});

// Resource ì œê³µ
server.resource({
  uri: 'file:///home/user/data.txt',
  name: 'User Data',
  mimeType: 'text/plain'
}, async () => {
  return {
    contents: [{
      uri: 'file:///home/user/data.txt',
      mimeType: 'text/plain',
      text: await readFile('/home/user/data.txt')
    }]
  };
});

// Tool ì œê³µ
server.tool({
  name: 'write_file',
  description: 'Write content to a file',
  inputSchema: {
    type: 'object',
    properties: {
      path: { type: 'string' },
      content: { type: 'string' }
    }
  }
}, async (args) => {
  await writeFile(args.path, args.content);
  return { success: true };
});

server.listen();
#+end_src

**** ì‚¬ìš© ì‚¬ë¡€ (í˜„ì¬)

- Claude â†” GitHub
- Claude â†” Google Drive
- Claude â†” Postgres
- Claude â†” Slack
- Claude â†” n8n (ì›Œí¬í”Œë¡œìš°)
- Claude â†” Playwright (ë¸Œë¼ìš°ì € ìë™í™”)

*** 3. A2A (Agent2Agent Protocol)

**** ê°œìš”

- **ë°œí‘œ**: 2025ë…„ 4ì›”, Google
- **ê±°ë²„ë„ŒìŠ¤**: 2025ë…„ 6ì›”, Linux Foundation
- **ëª©ì **: AI ì—ì´ì „íŠ¸ ê°„ í†µì‹  ë° í˜‘ì—… í‘œì¤€í™”
- **íŒŒíŠ¸ë„ˆ**: 50+ (Atlassian, Box, Cohere, Intuit, MongoDB, PayPal, Salesforce, SAP, ServiceNow...)

**** ê¸°ìˆ  ìŠ¤íƒ

#+begin_src yaml
ê¸°ìˆ  ê¸°ë°˜: JSON-RPC 2.0 + HTTP(S)
í†µì‹  ë°©ì‹: Request-Response, Streaming, Push notifications
ë³´ì•ˆ: Enterprise-grade auth (OpenAPI parity)
í™•ì¥ì„±: Long-running tasks (hours/days)
#+end_src

**** í•µì‹¬ ê°œë…

1. **Agent Card**: ì—ì´ì „íŠ¸ ëŠ¥ë ¥ ê´‘ê³  (JSON)
2. **Task ID**: ì‘ì—… ì¶”ì ì„ ìœ„í•œ ê³ ìœ  ì‹ë³„ì
3. **Multi-modal**: í…ìŠ¤íŠ¸, ì˜¤ë””ì˜¤, ë¹„ë””ì˜¤
4. **Human-in-the-loop**: ì¥ê¸° ì‹¤í–‰ ì‘ì—…ì—ì„œ ì‚¬ëŒ ê°œì…

**** Agent Card í˜•ì‹

#+begin_src json
{
  "agentId": "family-config-agent",
  "version": "1.0.0",
  "name": "Family Life Management Agent",
  "description": "Manages family travel, finance, education, events",
  
  "capabilities": [
    {
      "id": "family.travel.plan",
      "name": "Travel Planning",
      "description": "Plan family trips with budget optimization",
      "inputSchema": {
        "type": "object",
        "properties": {
          "destination": { "type": "string" },
          "dates": {
            "type": "object",
            "properties": {
              "start": { "type": "string", "format": "date" },
              "end": { "type": "string", "format": "date" }
            }
          },
          "budget": { "type": "number" },
          "participants": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "role": { "type": "string" },
                "age": { "type": "number" }
              }
            }
          }
        },
        "required": ["destination", "dates", "budget"]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "itinerary": { "type": "object" },
          "costs": { "type": "object" },
          "recommendations": { "type": "array" }
        }
      }
    },
    {
      "id": "family.events.remind",
      "name": "Event Reminders",
      "description": "Track and remind family events (ceremonies, birthdays)"
    },
    {
      "id": "family.finance.track",
      "name": "Finance Tracking",
      "description": "Track family expenses and budgets"
    }
  ],
  
  "supportedModalities": ["text", "markdown", "json"],
  "authentication": {
    "type": "bearer",
    "required": true
  },
  "rateLimit": {
    "requestsPerMinute": 10,
    "concurrentTasks": 3
  }
}
#+end_src

**** A2A í†µì‹  íë¦„

#+begin_src
[Meta Agent]
   â†“ 1. Discover: GET /agent-card
   â† Agent Card (capabilities)
   
   â†“ 2. Initiate: POST /tasks
   â† Task ID + Acknowledgment
   
   â†“ 3. Monitor: GET /tasks/{id}
   â† Progress updates
   
   â†“ 4. Complete: GET /tasks/{id}
   â† Final result
#+end_src

**** ë©”ì‹œì§€ ì˜ˆì‹œ

#+begin_src json
// Meta Agent â†’ Domain Agent: Task Initiation
POST /tasks HTTP/1.1
Content-Type: application/json
Authorization: Bearer <token>

{
  "taskId": "task_20251014_001",
  "capability": "family.travel.plan",
  "input": {
    "destination": "ì œì£¼ë„",
    "dates": {
      "start": "2025-07-20",
      "end": "2025-07-27"
    },
    "budget": 3000000,
    "participants": [
      { "role": "parent", "age": 40 },
      { "role": "parent", "age": 38 },
      { "role": "child", "age": 8 },
      { "role": "child", "age": 5 }
    ]
  },
  "preferences": {
    "accommodationType": "family-friendly resort",
    "activities": ["nature", "beach", "culture"]
  }
}

// Domain Agent â†’ Meta Agent: Acknowledgment
HTTP/1.1 202 Accepted
Content-Type: application/json

{
  "taskId": "task_20251014_001",
  "status": "accepted",
  "estimatedDuration": 45,
  "message": "Travel planning task accepted"
}

// Domain Agent â†’ Meta Agent: Progress (streaming)
{
  "taskId": "task_20251014_001",
  "status": "in_progress",
  "progress": 0.6,
  "currentStep": "searching_accommodations",
  "message": "Found 12 accommodation options, filtering..."
}

// Domain Agent â†’ Meta Agent: Completion
HTTP/1.1 200 OK
Content-Type: application/json

{
  "taskId": "task_20251014_001",
  "status": "completed",
  "result": {
    "itinerary": {
      "file": "~/org/family/travel/20250720-jeju.org"
    },
    "summary": {
      "totalCost": 2850000,
      "flightsFound": 5,
      "accommodationsFound": 12,
      "activitiesPlanned": 15
    },
    "recommendations": [
      "Book flights by 2025-04-30 to save 20%",
      "Book accommodation by 2025-05-15 (peak season)"
    ]
  }
}
#+end_src

**** ì‚¬ìš© ì‚¬ë¡€

- Meta Agent â†” Domain Agents (Family, Work, Health...)
- Research Agent â†” Analysis Agent â†” Report Agent
- Customer Service Agent â†” Order Agent â†” Shipping Agent
- Multi-agent í˜‘ì—… ì‹œìŠ¤í…œ

** ğŸ¯ Family-Configì— ì ìš©

*** ê³„ì¸µì  ì•„í‚¤í…ì²˜

#+begin_src
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 5: User Interface                        â”‚
â”‚  - Emacs/Org-mode                               â”‚
â”‚  - Natural Language                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†• ACP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 4: Meta Agent (claude-config)            â”‚
â”‚  - Claude Code                                  â”‚
â”‚  - ì „ì²´ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜                           â”‚
â”‚  - ë„ë©”ì¸ ë¼ìš°íŒ…                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†• A2A
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: Domain Agents                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Family-Config Agent                       â”‚  â”‚
â”‚  â”‚ - Agent Card: family.* capabilities       â”‚  â”‚
â”‚  â”‚ - A2A Server                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Work-Config Agent (ë¯¸ë˜)                  â”‚  â”‚
â”‚  â”‚ - Agent Card: work.* capabilities         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†• MCP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: MCP Tools                             â”‚
â”‚  - web_search (ì •ë³´ ê²€ìƒ‰)                       â”‚
â”‚  - n8n (ì›Œí¬í”Œë¡œìš°)                             â”‚
â”‚  - playwright (ë¸Œë¼ìš°ì €)                        â”‚
â”‚  - filesystem (íŒŒì¼ ì‹œìŠ¤í…œ)                     â”‚
â”‚  - calendar (Google Calendar)                  â”‚
â”‚  - supabase (ë°ì´í„°ë² ì´ìŠ¤)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†• HTTP/APIs
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: External Services                     â”‚
â”‚  - Google (Flights, Calendar, Drive)           â”‚
â”‚  - Booking.com (ìˆ™ë°•)                          â”‚
â”‚  - Airlines APIs                               â”‚
â”‚  - Banking APIs                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#+end_src

*** í”„ë¡œí† ì½œ ì—­í•  ë¶„ë‹´

| Layer | í”„ë¡œí† ì½œ | ëª©ì  | ì˜ˆì‹œ |
|-------|---------|------|------|
| 5 â†” 4 | ACP | ì‚¬ìš©ì â†” Meta Agent | Emacs â†” Claude Code |
| 4 â†” 3 | A2A | Meta Agent â†” Domain Agents | Claude Code â†” Family-Config |
| 3 â†” 2 | MCP | Domain Agent â†” Tools | Family-Config â†” web_search |
| 2 â†” 1 | HTTP | Tools â†” Services | web_search â†” Google APIs |

*** ì‹¤ì œ í†µì‹  ì˜ˆì‹œ

**** ì‚¬ìš©ì ìš”ì²­

#+begin_src
ì‚¬ìš©ì (Emacs): "ì—¬ë¦„ì— ì œì£¼ë„ ê°€ì¡± ì—¬í–‰ ê³„íš ì¢€ ë„ì™€ì¤˜"
#+end_src

**** 1. ACP: Emacs â†’ Claude Code

#+begin_src json
// ACP Message
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "agent/execute",
  "params": {
    "task": "ì—¬ë¦„ì— ì œì£¼ë„ ê°€ì¡± ì—¬í–‰ ê³„íš ì¢€ ë„ì™€ì¤˜",
    "context": {
      "workingDirectory": "/home/junghan/org/family",
      "openFiles": ["travel/plans.org"]
    }
  }
}
#+end_src

**** 2. Meta Agent ë¶„ì„

#+begin_src python
# Meta Agent (Claude Code) ë‚´ë¶€
intent = analyze("ì—¬ë¦„ì— ì œì£¼ë„ ê°€ì¡± ì—¬í–‰ ê³„íš")
# â†’ domain: "family", task_type: "travel.plan"

# A2A Agent Discovery
agent_card = fetch("http://localhost:8080/agent-card")
# â†’ Family-Config Agentì˜ capabilities í™•ì¸
#+end_src

**** 3. A2A: Meta Agent â†’ Family-Config Agent

#+begin_src json
// A2A Task Initiation
POST http://localhost:8080/tasks
Content-Type: application/json

{
  "taskId": "task_20251014_001",
  "capability": "family.travel.plan",
  "input": {
    "destination": "ì œì£¼ë„",
    "dates": { "start": "2025-07-20", "end": "2025-07-27" },
    "budget": 3000000,
    "participants": [
      { "role": "dad" },
      { "role": "mom" },
      { "role": "child", "age": 8 },
      { "role": "child", "age": 5 }
    ]
  }
}

// Response: Accepted
{
  "taskId": "task_20251014_001",
  "status": "accepted",
  "estimatedDuration": 45
}
#+end_src

**** 4. MCP: Family-Config Agent â†’ Tools

#+begin_src typescript
// Family-Config Agent ë‚´ë¶€ì—ì„œ MCP í˜¸ì¶œ

// 1. í•­ê³µê¶Œ ê²€ìƒ‰
const mcpClient = new MCPClient();
const flights = await mcpClient.callTool({
  server: "web-search-mcp",
  tool: "search",
  arguments: {
    query: "ì„œìš¸-ì œì£¼ í•­ê³µê¶Œ 2025-07-20 ì™•ë³µ 4ëª…",
    limit: 10
  }
});

// 2. ìˆ™ë°• ê²€ìƒ‰
const accommodations = await mcpClient.callTool({
  server: "web-search-mcp",
  tool: "search",
  arguments: {
    query: "ì œì£¼ë„ ê°€ì¡± ì¹œí™”ì  ë¦¬ì¡°íŠ¸ 2025-07-20 7ë°•",
    limit: 15
  }
});

// 3. ê³¼ê±° ì—¬í–‰ ë°ì´í„° ì¡°íšŒ
const pastTrips = await mcpClient.callTool({
  server: "filesystem-mcp",
  tool: "read_file",
  arguments: {
    path: "~/org/family/travel/history/"
  }
});

// 4. Calendar ë™ê¸°í™”
await mcpClient.callTool({
  server: "google-calendar-mcp",
  tool: "create_event",
  arguments: {
    title: "ì œì£¼ë„ ê°€ì¡± ì—¬í–‰",
    start: "2025-07-20T09:00:00+09:00",
    end: "2025-07-27T18:00:00+09:00"
  }
});
#+end_src

**** 5. A2A: Progress Updates

#+begin_src json
// Family-Config Agent â†’ Meta Agent (streaming)
{
  "taskId": "task_20251014_001",
  "status": "in_progress",
  "progress": 0.3,
  "message": "Found 5 flight options"
}

{
  "taskId": "task_20251014_001",
  "status": "in_progress",
  "progress": 0.6,
  "message": "Filtering 12 accommodations"
}
#+end_src

**** 6. A2A: Final Result

#+begin_src json
// Family-Config Agent â†’ Meta Agent
{
  "taskId": "task_20251014_001",
  "status": "completed",
  "result": {
    "file": "~/org/family/travel/20250720-jeju.org",
    "summary": {
      "totalCost": 2850000,
      "withinBudget": true,
      "flightsFound": 5,
      "accommodationsFound": 12,
      "recommendedFlight": "ì§„ì—ì–´ 09:30 ì¶œë°œ",
      "recommendedAccommodation": "ííŠ¼ ì œì£¼ ë¦¬ì¡°íŠ¸"
    },
    "nextActions": [
      {
        "action": "book_flight",
        "deadline": "2025-04-30",
        "estimatedCost": 680000
      },
      {
        "action": "book_accommodation",
        "deadline": "2025-05-15",
        "estimatedCost": 1400000
      }
    ]
  }
}
#+end_src

**** 7. ACP: Claude Code â†’ Emacs

#+begin_src json
// ACP Response
{
  "jsonrpc": "2.0",
  "id": 1,
  "result": {
    "message": "ì œì£¼ë„ ì—¬í–‰ ê³„íšì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!",
    "files": [
      {
        "path": "~/org/family/travel/20250720-jeju.org",
        "action": "created"
      }
    ],
    "summary": "ì´ ì˜ˆì‚° 285ë§Œì› (ëª©í‘œ 300ë§Œì› ì´ë‚´)\ní•­ê³µê¶Œ 5ê°œ ì˜µì…˜, ìˆ™ë°• 12ê°œ ì˜µì…˜ ë°œê²¬\në‹¤ìŒ ë‹¨ê³„: í•­ê³µê¶Œ ì˜ˆì•½ (ë§ˆê°: 4ì›” 30ì¼)"
  }
}
#+end_src

** ğŸ’¡ í•µì‹¬ ì¸ì‚¬ì´íŠ¸

*** 1. í”„ë¡œí† ì½œ ì—­í•  ë¶„ë¦¬

- **ACP**: Human â†” Agent (ì½”ë”© ì‘ì—… ì¤‘ì‹¬)
- **A2A**: Agent â†” Agent (í˜‘ì—… ë° ìœ„ì„)
- **MCP**: Agent â†” Tools (ì‹¤í–‰ ë° ë°ì´í„° ì ‘ê·¼)

â†’ ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬ë¡œ ê°ê° ë…ë¦½ì ìœ¼ë¡œ ë°œì „ ê°€ëŠ¥

*** 2. JSON-RPC 2.0 í‘œì¤€

ì„¸ í”„ë¡œí† ì½œ ëª¨ë‘ JSON-RPC 2.0 ê¸°ë°˜:
- ì„±ìˆ™í•œ í‘œì¤€
- ë‹¤ì–‘í•œ ì–¸ì–´ ì§€ì›
- íˆ´ë§ í’ë¶€
- í•™ìŠµ ê³¡ì„  ë‚®ìŒ

*** 3. ìƒí˜¸ ë³´ì™„ì„±

#+begin_src
MCP (2024) â†’ A2A (2025-04) â†’ ACP (2025-08)

ì‹œê°„ìˆœìœ¼ë¡œ ë“±ì¥í–ˆì§€ë§Œ, ê°ê° ë‹¤ë¥¸ ë ˆì´ì–´ ë‹´ë‹¹
â†’ ê³„ì¸µì ìœ¼ë¡œ ìŒ“ì•„ì˜¬ë¦´ ìˆ˜ ìˆìŒ
#+end_src

*** 4. ì˜¤í”ˆ ìŠ¤íƒ ë‹¤ë“œ

ëª¨ë‘ ì˜¤í”ˆì†ŒìŠ¤ & ì˜¤í”ˆ ìŠ¤íƒ ë‹¤ë“œ:
- MCP: Anthropic (MIT License)
- A2A: Linux Foundation
- ACP: Zed + Google (Apache 2.0)

â†’ Vendor lock-in ì—†ìŒ, ì»¤ë®¤ë‹ˆí‹° ì£¼ë„ ë°œì „

*** 5. Enterprise-Ready

- Authentication/Authorization
- Rate limiting
- Long-running tasks
- Error handling
- Monitoring/Observability

â†’ í”„ë¡œí† íƒ€ì…ë¿ë§Œ ì•„ë‹ˆë¼ í”„ë¡œë•ì…˜ ì‚¬ìš© ê°€ëŠ¥

** ğŸš€ êµ¬í˜„ ì „ëµ

*** Phase 1: MCP í†µí•© (í˜„ì¬)

Family-Config Agentê°€ MCP í´ë¼ì´ì–¸íŠ¸ë¡œ:
- web_search MCP ì„œë²„ ì—°ê²°
- filesystem MCP ì„œë²„ ì—°ê²°
- calendar MCP ì„œë²„ ì—°ê²°

#+begin_src typescript
// family-config/src/mcp-client.ts
import { Client } from '@modelcontextprotocol/sdk/client/index.js';

class FamilyConfigMCPClient {
  async searchFlights(query: string) {
    return await this.client.callTool({
      name: 'web_search',
      arguments: { query, limit: 10 }
    });
  }
  
  async readPastTrips() {
    return await this.client.request({
      method: 'resources/read',
      params: { uri: 'file://~/org/family/travel/history/' }
    });
  }
}
#+end_src

*** Phase 2: A2A ì„œë²„ êµ¬í˜„

Family-Config Agentë¥¼ A2A ì„œë²„ë¡œ ë…¸ì¶œ:

#+begin_src typescript
// family-config/src/a2a-server.ts
import express from 'express';

const app = express();

// Agent Card ì œê³µ
app.get('/agent-card', (req, res) => {
  res.json({
    agentId: 'family-config-agent',
    capabilities: [
      { id: 'family.travel.plan', ... },
      { id: 'family.finance.track', ... },
      { id: 'family.events.remind', ... }
    ]
  });
});

// Task ìˆ˜ì‹ 
app.post('/tasks', async (req, res) => {
  const { taskId, capability, input } = req.body;
  
  // ì¦‰ì‹œ ìˆ˜ë½
  res.status(202).json({
    taskId,
    status: 'accepted',
    estimatedDuration: 45
  });
  
  // ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
  processTask(taskId, capability, input);
});

// Task ìƒíƒœ ì¡°íšŒ
app.get('/tasks/:id', (req, res) => {
  const status = getTaskStatus(req.params.id);
  res.json(status);
});

app.listen(8080);
#+end_src

*** Phase 3: ACP í´ë¼ì´ì–¸íŠ¸ (ë¯¸ë˜)

Emacsì—ì„œ ACP í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„:

#+begin_src elisp
;; emacs/acp-client.el
(defun acp-call-agent (task)
  "Call AI agent via ACP protocol"
  (let* ((request (json-encode
                   `((jsonrpc . "2.0")
                     (id . 1)
                     (method . "agent/execute")
                     (params . ((task . ,task)
                                (context . ((workingDirectory . ,default-directory))))))))
         (process (make-network-process
                   :name "acp-client"
                   :host "localhost"
                   :service 5000
                   :coding 'utf-8
                   :filter 'acp-response-handler)))
    (process-send-string process (concat request "\n"))))
#+end_src

** ğŸ“š ì°¸ê³  ìë£Œ

*** ê³µì‹ ì‚¬ì´íŠ¸

- ACP: https://agentclientprotocol.com
- MCP: https://modelcontextprotocol.io
- A2A: https://a2aprotocol.ai

*** GitHub ë¦¬í¬ì§€í† ë¦¬

- ACP: https://github.com/zed-industries/agent-client-protocol
- MCP: https://github.com/modelcontextprotocol
- A2A: https://github.com/a2aproject/A2A

*** ë…¼ë¬¸

- "A Survey of Agent Interoperability Protocols" (arXiv:2505.02279v1)

** ğŸ“ ê²°ë¡ 

*** ê¸°ìˆ ì  ì™„ì„±ë„

ì„¸ í”„ë¡œí† ì½œì„ ê³„ì¸µì ìœ¼ë¡œ í†µí•©í•˜ë©´:
- **í‘œì¤€ ê¸°ë°˜**: ì—…ê³„ í‘œì¤€ ì¤€ìˆ˜
- **ìƒí˜¸ìš´ìš©ì„±**: ë‹¤ì–‘í•œ ì—ì´ì „íŠ¸/ë„êµ¬ ì—°ê²°
- **í™•ì¥ì„±**: ìƒˆë¡œìš´ ë„ë©”ì¸/ë„êµ¬ ì‰½ê²Œ ì¶”ê°€
- **ìœ ì§€ë³´ìˆ˜ì„±**: ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬
- **ë¯¸ë˜ ì§€í–¥ì **: ì»¤ë®¤ë‹ˆí‹° ì£¼ë„ ë°œì „

*** Family-Configì˜ ìœ„ì¹˜

"ê°œì¸ìš©ì´ì§€ë§Œ ê¸°ìˆ ì ìœ¼ë¡œ ì™„ì „í•œ ì—ì´ì „íŠ¸ í™œìš© ì‚¬ë¡€":
- âœ… í‘œì¤€ í”„ë¡œí† ì½œ ê¸°ë°˜ (ACP, A2A, MCP)
- âœ… ê³„ì¸µì  ì•„í‚¤í…ì²˜ (Meta â†” Domain â†” Tools)
- âœ… ë¶„ì‚° ì„œë¹„ìŠ¤ í™œìš© (ê° ì—ì´ì „íŠ¸ê°€ ë…ë¦½ ì„œë¹„ìŠ¤)
- âœ… í”„ë¡œë•ì…˜ í’ˆì§ˆ (ì¸ì¦, ì—ëŸ¬ ì²˜ë¦¬, ëª¨ë‹ˆí„°ë§)
- âœ… ì˜¤í”ˆì†ŒìŠ¤ & ì¬ì‚¬ìš© ê°€ëŠ¥ (í…œí”Œë¦¿ìœ¼ë¡œ ë°°í¬)

ì´ëŠ” **ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ë„˜ì–´ì„  ê¸°ìˆ ì  ì°¸ê³  êµ¬í˜„**ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

**ìƒíƒœ**: ğŸ”¬ RESEARCH â†’ ğŸ› ï¸ IMPLEMENTATION  
**ë‹¤ìŒ ë‹¨ê³„**: ì‹¤ì œ A2A ì„œë²„ êµ¬í˜„ (family-config)

#+end_src
